# 个性化食谱管理系统 - 项目文件目录结构

## 1. 整体目录结构

```
Vers_3/
├── frontend/                 # 前端项目目录
├── backend/                  # 后端项目目录
├── docs/                     # 文档目录
│   ├── 需求规格说明书.md
│   ├── 概要设计文档.md
│   ├── 详细设计文档.md
│   └── 系统用例图.plantuml
├── docker/                   # Docker相关配置
│   ├── docker-compose.yml
│   ├── frontend.Dockerfile
│   └── backend.Dockerfile
└── README.md                 # 项目说明文档
```

## 2. 前端项目结构 (frontend/)

```
frontend/
├── public/                   # 静态资源
│   ├── index.html
│   ├── favicon.ico
│   └── assets/              # 静态图片、字体等
├── src/                      # 源代码
│   ├── components/           # 通用组件
│   │   ├── common/          # 基础通用组件
│   │   │   ├── Button/      # 按钮组件
│   │   │   ├── Input/       # 输入框组件
│   │   │   ├── Card/        # 卡片组件
│   │   │   ├── Modal/       # 弹窗组件
│   │   │   └── Loading/     # 加载组件
│   │   ├── layout/          # 布局组件
│   │   │   ├── Header/      # 页头组件
│   │   │   ├── Sidebar/     # 侧边栏组件
│   │   │   └── Footer/      # 页脚组件
│   │   └── recipe/          # 食谱相关组件
│   │       ├── RecipeCard/  # 食谱卡片组件
│   │       ├── RecipeForm/  # 食谱表单组件
│   │       ├── RecipeList/  # 食谱列表组件
│   │       └── NutritionInfo/ # 营养信息组件
│   ├── pages/                # 页面组件
│   │   ├── Home/            # 首页
│   │   ├── Login/           # 登录页
│   │   ├── Register/        # 注册页
│   │   ├── RecipeGenerate/  # 食谱生成页
│   │   ├── RecipeList/      # 食谱列表页
│   │   ├── RecipeDetail/    # 食谱详情页
│   │   ├── UserProfile/     # 用户资料页
│   │   └── DietPlan/        # 饮食计划页
│   ├── services/             # API服务
│   │   ├── api.ts           # API基础配置
│   │   ├── auth.service.ts  # 认证相关API
│   │   ├── recipe.service.ts # 食谱相关API
│   │   ├── user.service.ts  # 用户相关API
│   │   └── nutrition.service.ts # 营养计算API
│   ├── store/                # Redux状态管理
│   │   ├── slices/          # Redux切片
│   │   │   ├── authSlice.ts # 认证状态切片
│   │   │   ├── recipeSlice.ts # 食谱状态切片
│   │   │   ├── userSlice.ts # 用户状态切片
│   │   │   └── nutritionSlice.ts # 营养状态切片
│   │   └── index.ts         # Redux store配置
│   ├── hooks/                # 自定义hooks
│   │   ├── useAuth.ts       # 认证相关hooks
│   │   ├── useRecipe.ts     # 食谱相关hooks
│   │   └── useApi.ts        # API请求hooks
│   ├── utils/                # 工具函数
│   │   ├── validators.ts    # 表单验证
│   │   ├── formatters.ts    # 数据格式化
│   │   └── constants.ts     # 常量定义
│   ├── types/                # TypeScript类型定义
│   │   ├── auth.ts          # 认证相关类型
│   │   ├── recipe.ts        # 食谱相关类型
│   │   ├── user.ts          # 用户相关类型
│   │   └── nutrition.ts     # 营养相关类型
│   ├── App.tsx               # 应用入口组件
│   ├── main.tsx              # 应用入口文件
│   ├── routes.tsx            # 路由配置
│   └── theme/                # 主题配置
│       ├── index.ts         # 主题入口
│       ├── colors.ts        # 颜色定义
│       └── typography.ts    # 排版定义
├── .env.development         # 开发环境变量
├── .env.production          # 生产环境变量
├── package.json             # 项目依赖配置
├── tsconfig.json            # TypeScript配置
├── vite.config.ts           # Vite配置
└── README.md                # 前端项目说明
```

## 3. 后端项目结构 (backend/)

```
backend/
├── src/                     # 源代码
│   ├── controllers/         # 控制器层
│   │   ├── auth.controller.ts  # 认证控制器
│   │   ├── recipe.controller.ts # 食谱控制器
│   │   ├── user.controller.ts   # 用户控制器
│   │   ├── nutrition.controller.ts # 营养控制器
│   │   └── dietPlan.controller.ts # 饮食计划控制器
│   ├── services/            # 服务层
│   │   ├── auth.service.ts     # 认证服务
│   │   ├── recipe.service.ts   # 食谱服务
│   │   ├── user.service.ts     # 用户服务
│   │   ├── nutrition.service.ts # 营养计算服务
│   │   ├── dietPlan.service.ts # 饮食计划服务
│   │   └── ai.service.ts       # AI服务接口
│   ├── repositories/        # 数据访问层
│   │   ├── user.repository.ts  # 用户数据仓库
│   │   ├── recipe.repository.ts # 食谱数据仓库
│   │   ├── dietPlan.repository.ts # 饮食计划数据仓库
│   │   └── base.repository.ts  # 基础仓库接口
│   ├── models/              # 数据模型
│   │   ├── User.ts           # 用户模型
│   │   ├── Recipe.ts         # 食谱模型
│   │   ├── Ingredient.ts     # 食材模型
│   │   ├── NutritionInfo.ts  # 营养信息模型
│   │   └── DietPlan.ts       # 饮食计划模型
│   ├── dto/                 # 数据传输对象
│   │   ├── auth.dto.ts       # 认证相关DTO
│   │   ├── recipe.dto.ts     # 食谱相关DTO
│   │   ├── user.dto.ts       # 用户相关DTO
│   │   └── nutrition.dto.ts  # 营养相关DTO
│   ├── schemas/             # 数据验证模式
│   │   ├── auth.schema.ts    # 认证数据验证
│   │   ├── recipe.schema.ts  # 食谱数据验证
│   │   └── user.schema.ts    # 用户数据验证
│   ├── middleware/          # 中间件
│   │   ├── auth.middleware.ts # 认证中间件
│   │   ├── error.middleware.ts # 错误处理中间件
│   │   ├── validation.middleware.ts # 数据验证中间件
│   │   └── cors.middleware.ts # CORS中间件
│   ├── config/              # 配置
│   │   ├── db.ts            # 数据库配置
│   │   ├── auth.ts          # 认证配置
│   │   ├── ai.ts            # AI服务配置
│   │   └── server.ts        # 服务器配置
│   ├── utils/               # 工具函数
│   │   ├── jwt.utils.ts     # JWT工具
│   │   ├── password.utils.ts # 密码处理工具
│   │   └── logger.ts        # 日志工具
│   ├── routes/              # 路由配置
│   │   ├── auth.routes.ts    # 认证路由
│   │   ├── recipe.routes.ts  # 食谱路由
│   │   ├── user.routes.ts    # 用户路由
│   │   └── index.ts          # 路由入口
│   ├── app.ts               # 应用配置
│   └── main.ts              # 应用入口
├── tests/                   # 测试目录
│   ├── unit/                # 单元测试
│   ├── integration/         # 集成测试
│   └── e2e/                 # 端到端测试
├── prisma/                  # Prisma ORM配置
│   ├── schema.prisma        # 数据库模式定义
│   └── migrations/          # 数据库迁移文件
├── .env.development         # 开发环境变量
├── .env.production          # 生产环境变量
├── package.json             # 项目依赖配置
├── tsconfig.json            # TypeScript配置
├── eslint.config.js         # ESLint配置
├── jest.config.ts           # Jest配置
└── README.md                # 后端项目说明
```

## 4. Docker配置结构 (docker/)

```
docker/
├── docker-compose.yml       # Docker Compose配置
├── frontend.Dockerfile      # 前端Dockerfile
├── backend.Dockerfile       # 后端Dockerfile
└── scripts/                 # Docker相关脚本
    ├── build.sh             # 构建脚本
    ├── start.sh             # 启动脚本
    └── stop.sh              # 停止脚本
```

## 5. 配置文件说明

### 5.1 环境变量配置

#### 前端环境变量 (.env.development)
```dotenv
# API配置
VITE_API_BASE_URL=http://localhost:8000/api

# 认证配置
VITE_JWT_EXPIRES_IN=1h

# 应用配置
VITE_APP_NAME=个性化食谱管理系统
VITE_DEBUG_MODE=true
```

#### 后端环境变量 (.env.development)
```dotenv
# 数据库配置
DATABASE_URL="postgresql://admin:password@localhost:5432/example_db"

# JWT配置
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=1h

# 服务器配置
PORT=8000
NODE_ENV=development

# AI服务配置
AI_API_KEY=your_ai_service_api_key
AI_API_URL=https://api.example.com/ai
```

## 6. 文件命名规范

### 6.1 前端命名规范
- 组件文件：PascalCase，如 `RecipeCard.tsx`
- 服务文件：camelCase，如 `recipe.service.ts`
- 工具文件：camelCase，如 `formatters.ts`
- 状态切片：camelCase，如 `recipeSlice.ts`

### 6.2 后端命名规范
- 控制器：camelCase + .controller.ts，如 `recipe.controller.ts`
- 服务：camelCase + .service.ts，如 `recipe.service.ts`
- 模型：PascalCase + .ts，如 `User.ts`
- 仓库：camelCase + .repository.ts，如 `user.repository.ts`
- DTO：camelCase + .dto.ts，如 `recipe.dto.ts`
- 中间件：camelCase + .middleware.ts，如 `auth.middleware.ts`

## 7. 目录功能说明

### 7.1 前端关键目录
- **components/**: 存放可复用的UI组件
- **pages/**: 存放页面级组件，每个页面一个文件夹
- **services/**: 封装API请求逻辑
- **store/**: Redux状态管理相关代码
- **hooks/**: 自定义React hooks
- **utils/**: 通用工具函数
- **types/**: TypeScript类型定义

### 7.2 后端关键目录
- **controllers/**: 处理HTTP请求，调用服务层，返回响应
- **services/**: 核心业务逻辑实现
- **repositories/**: 数据访问层，与数据库交互
- **models/**: 数据模型定义
- **dto/**: 数据传输对象，定义API请求和响应的结构
- **middleware/**: 中间件，处理认证、错误、验证等横切关注点
- **config/**: 应用配置管理
- **routes/**: API路由定义

## 8. 技术栈说明

### 8.1 前端技术栈
- **框架**: React 18 + TypeScript
- **构建工具**: Vite
- **状态管理**: Redux Toolkit
- **路由**: React Router 6
- **UI库**: Material-UI 5
- **HTTP客户端**: Axios
- **表单处理**: React Hook Form + Zod

### 8.2 后端技术栈
- **运行环境**: Node.js 18+
- **框架**: Express.js + TypeScript
- **ORM**: Prisma
- **数据库**: PostgreSQL
- **认证**: JWT (jsonwebtoken)
- **验证**: Zod + express-validator
- **日志**: Winston
- **API文档**: Swagger/OpenAPI

## 9. 总结

本项目目录结构遵循了现代全栈应用的最佳实践，采用了清晰的分层架构，确保了代码的可维护性、可扩展性和可测试性。前后端均使用TypeScript进行类型安全的开发，同时结合了当前流行的技术栈和工具，为开发团队提供了良好的开发体验和协作基础。